import { __assign } from "tslib";
import { endpointDiscoveryMiddleware } from "./endpointDiscoveryMiddleware";
export var endpointDiscoveryMiddlewareOptions = {
    name: "endpointDiscoveryMiddleware",
    step: "build",
    tags: ["ENDPOINT_DISCOVERY"],
    override: true,
};
export var getEndpointDiscoveryPlugin = function (pluginConfig, middlewareConfig) { return ({
    applyToStack: function (commandStack) {
        commandStack.add(endpointDiscoveryMiddleware(pluginConfig, middlewareConfig), endpointDiscoveryMiddlewareOptions);
    },
}); };
export var getEndpointDiscoveryRequiredPlugin = function (pluginConfig, middlewareConfig) { return ({
    applyToStack: function (commandStack) {
        commandStack.add(endpointDiscoveryMiddleware(pluginConfig, __assign(__assign({}, middlewareConfig), { isDiscoveredEndpointRequired: true })), endpointDiscoveryMiddlewareOptions);
    },
}); };
export var getEndpointDiscoveryOptionalPlugin = function (pluginConfig, middlewareConfig) { return ({
    applyToStack: function (commandStack) {
        commandStack.add(endpointDiscoveryMiddleware(pluginConfig, __assign(__assign({}, middlewareConfig), { isDiscoveredEndpointRequired: false })), endpointDiscoveryMiddlewareOptions);
    },
}); };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0RW5kcG9pbnREaXNjb3ZlcnlQbHVnaW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZ2V0RW5kcG9pbnREaXNjb3ZlcnlQbHVnaW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUVBLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBRzVFLE1BQU0sQ0FBQyxJQUFNLGtDQUFrQyxHQUF3QjtJQUNyRSxJQUFJLEVBQUUsNkJBQTZCO0lBQ25DLElBQUksRUFBRSxPQUFPO0lBQ2IsSUFBSSxFQUFFLENBQUMsb0JBQW9CLENBQUM7SUFDNUIsUUFBUSxFQUFFLElBQUk7Q0FDZixDQUFDO0FBU0YsTUFBTSxDQUFDLElBQU0sMEJBQTBCLEdBQUcsVUFDeEMsWUFBa0UsRUFDbEUsZ0JBQW1ELElBQzNCLE9BQUEsQ0FBQztJQUN6QixZQUFZLEVBQUUsVUFBQyxZQUFZO1FBQ3pCLFlBQVksQ0FBQyxHQUFHLENBQUMsMkJBQTJCLENBQUMsWUFBWSxFQUFFLGdCQUFnQixDQUFDLEVBQUUsa0NBQWtDLENBQUMsQ0FBQztJQUNwSCxDQUFDO0NBQ0YsQ0FBQyxFQUp3QixDQUl4QixDQUFDO0FBRUgsTUFBTSxDQUFDLElBQU0sa0NBQWtDLEdBQUcsVUFDaEQsWUFBa0UsRUFDbEUsZ0JBQXlGLElBQ2pFLE9BQUEsQ0FBQztJQUN6QixZQUFZLEVBQUUsVUFBQyxZQUFZO1FBQ3pCLFlBQVksQ0FBQyxHQUFHLENBQ2QsMkJBQTJCLENBQUMsWUFBWSx3QkFBTyxnQkFBZ0IsS0FBRSw0QkFBNEIsRUFBRSxJQUFJLElBQUcsRUFDdEcsa0NBQWtDLENBQ25DLENBQUM7SUFDSixDQUFDO0NBQ0YsQ0FBQyxFQVB3QixDQU94QixDQUFDO0FBRUgsTUFBTSxDQUFDLElBQU0sa0NBQWtDLEdBQUcsVUFDaEQsWUFBa0UsRUFDbEUsZ0JBQXlGLElBQ2pFLE9BQUEsQ0FBQztJQUN6QixZQUFZLEVBQUUsVUFBQyxZQUFZO1FBQ3pCLFlBQVksQ0FBQyxHQUFHLENBQ2QsMkJBQTJCLENBQUMsWUFBWSx3QkFBTyxnQkFBZ0IsS0FBRSw0QkFBNEIsRUFBRSxLQUFLLElBQUcsRUFDdkcsa0NBQWtDLENBQ25DLENBQUM7SUFDSixDQUFDO0NBQ0YsQ0FBQyxFQVB3QixDQU94QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnVpbGRIYW5kbGVyT3B0aW9ucywgSHR0cEhhbmRsZXJPcHRpb25zLCBNaWRkbGV3YXJlU3RhY2ssIFBsdWdnYWJsZSB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBlbmRwb2ludERpc2NvdmVyeU1pZGRsZXdhcmUgfSBmcm9tIFwiLi9lbmRwb2ludERpc2NvdmVyeU1pZGRsZXdhcmVcIjtcbmltcG9ydCB7IEVuZHBvaW50RGlzY292ZXJ5UmVzb2x2ZWRDb25maWcsIFByZXZpb3VzbHlSZXNvbHZlZCB9IGZyb20gXCIuL3Jlc29sdmVFbmRwb2ludERpc2NvdmVyeUNvbmZpZ1wiO1xuXG5leHBvcnQgY29uc3QgZW5kcG9pbnREaXNjb3ZlcnlNaWRkbGV3YXJlT3B0aW9uczogQnVpbGRIYW5kbGVyT3B0aW9ucyA9IHtcbiAgbmFtZTogXCJlbmRwb2ludERpc2NvdmVyeU1pZGRsZXdhcmVcIixcbiAgc3RlcDogXCJidWlsZFwiLFxuICB0YWdzOiBbXCJFTkRQT0lOVF9ESVNDT1ZFUllcIl0sXG4gIG92ZXJyaWRlOiB0cnVlLFxufTtcblxuZXhwb3J0IGludGVyZmFjZSBFbmRwb2ludERpc2NvdmVyeU1pZGRsZXdhcmVDb25maWcge1xuICBpc0Rpc2NvdmVyZWRFbmRwb2ludFJlcXVpcmVkOiBib29sZWFuO1xuICBjbGllbnRTdGFjazogTWlkZGxld2FyZVN0YWNrPGFueSwgYW55PjtcbiAgb3B0aW9ucz86IEh0dHBIYW5kbGVyT3B0aW9ucztcbiAgaWRlbnRpZmllcnM/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xufVxuXG5leHBvcnQgY29uc3QgZ2V0RW5kcG9pbnREaXNjb3ZlcnlQbHVnaW4gPSAoXG4gIHBsdWdpbkNvbmZpZzogRW5kcG9pbnREaXNjb3ZlcnlSZXNvbHZlZENvbmZpZyAmIFByZXZpb3VzbHlSZXNvbHZlZCxcbiAgbWlkZGxld2FyZUNvbmZpZzogRW5kcG9pbnREaXNjb3ZlcnlNaWRkbGV3YXJlQ29uZmlnXG4pOiBQbHVnZ2FibGU8YW55LCBhbnk+ID0+ICh7XG4gIGFwcGx5VG9TdGFjazogKGNvbW1hbmRTdGFjaykgPT4ge1xuICAgIGNvbW1hbmRTdGFjay5hZGQoZW5kcG9pbnREaXNjb3ZlcnlNaWRkbGV3YXJlKHBsdWdpbkNvbmZpZywgbWlkZGxld2FyZUNvbmZpZyksIGVuZHBvaW50RGlzY292ZXJ5TWlkZGxld2FyZU9wdGlvbnMpO1xuICB9LFxufSk7XG5cbmV4cG9ydCBjb25zdCBnZXRFbmRwb2ludERpc2NvdmVyeVJlcXVpcmVkUGx1Z2luID0gKFxuICBwbHVnaW5Db25maWc6IEVuZHBvaW50RGlzY292ZXJ5UmVzb2x2ZWRDb25maWcgJiBQcmV2aW91c2x5UmVzb2x2ZWQsXG4gIG1pZGRsZXdhcmVDb25maWc6IE9taXQ8RW5kcG9pbnREaXNjb3ZlcnlNaWRkbGV3YXJlQ29uZmlnLCBcImlzRGlzY292ZXJlZEVuZHBvaW50UmVxdWlyZWRcIj5cbik6IFBsdWdnYWJsZTxhbnksIGFueT4gPT4gKHtcbiAgYXBwbHlUb1N0YWNrOiAoY29tbWFuZFN0YWNrKSA9PiB7XG4gICAgY29tbWFuZFN0YWNrLmFkZChcbiAgICAgIGVuZHBvaW50RGlzY292ZXJ5TWlkZGxld2FyZShwbHVnaW5Db25maWcsIHsgLi4ubWlkZGxld2FyZUNvbmZpZywgaXNEaXNjb3ZlcmVkRW5kcG9pbnRSZXF1aXJlZDogdHJ1ZSB9KSxcbiAgICAgIGVuZHBvaW50RGlzY292ZXJ5TWlkZGxld2FyZU9wdGlvbnNcbiAgICApO1xuICB9LFxufSk7XG5cbmV4cG9ydCBjb25zdCBnZXRFbmRwb2ludERpc2NvdmVyeU9wdGlvbmFsUGx1Z2luID0gKFxuICBwbHVnaW5Db25maWc6IEVuZHBvaW50RGlzY292ZXJ5UmVzb2x2ZWRDb25maWcgJiBQcmV2aW91c2x5UmVzb2x2ZWQsXG4gIG1pZGRsZXdhcmVDb25maWc6IE9taXQ8RW5kcG9pbnREaXNjb3ZlcnlNaWRkbGV3YXJlQ29uZmlnLCBcImlzRGlzY292ZXJlZEVuZHBvaW50UmVxdWlyZWRcIj5cbik6IFBsdWdnYWJsZTxhbnksIGFueT4gPT4gKHtcbiAgYXBwbHlUb1N0YWNrOiAoY29tbWFuZFN0YWNrKSA9PiB7XG4gICAgY29tbWFuZFN0YWNrLmFkZChcbiAgICAgIGVuZHBvaW50RGlzY292ZXJ5TWlkZGxld2FyZShwbHVnaW5Db25maWcsIHsgLi4ubWlkZGxld2FyZUNvbmZpZywgaXNEaXNjb3ZlcmVkRW5kcG9pbnRSZXF1aXJlZDogZmFsc2UgfSksXG4gICAgICBlbmRwb2ludERpc2NvdmVyeU1pZGRsZXdhcmVPcHRpb25zXG4gICAgKTtcbiAgfSxcbn0pO1xuIl19