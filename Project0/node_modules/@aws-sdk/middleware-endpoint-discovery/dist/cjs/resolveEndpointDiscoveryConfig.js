"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveEndpointDiscoveryConfig = void 0;
const endpoint_cache_1 = require("@aws-sdk/endpoint-cache");
const resolveEndpointDiscoveryConfig = (input, endpointDiscoveryCommandCtor) => {
    var _a;
    return ({
        ...input,
        endpointDiscoveryCommandCtor,
        endpointCache: new endpoint_cache_1.EndpointCache((_a = input.endpointCacheSize) !== null && _a !== void 0 ? _a : 1000),
        endpointDiscoveryEnabled: input.endpointDiscoveryEnabled !== undefined
            ? () => Promise.resolve(input.endpointDiscoveryEnabled)
            : input.endpointDiscoveryEnabledProvider,
        isClientEndpointDiscoveryEnabled: input.endpointDiscoveryEnabled !== undefined,
    });
};
exports.resolveEndpointDiscoveryConfig = resolveEndpointDiscoveryConfig;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb2x2ZUVuZHBvaW50RGlzY292ZXJ5Q29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3Jlc29sdmVFbmRwb2ludERpc2NvdmVyeUNvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw0REFBd0Q7QUFxRGpELE1BQU0sOEJBQThCLEdBQUcsQ0FDNUMsS0FBNEQsRUFDNUQsNEJBQTRELEVBQ3ZCLEVBQUU7O0lBQUMsT0FBQSxDQUFDO1FBQ3pDLEdBQUcsS0FBSztRQUNSLDRCQUE0QjtRQUM1QixhQUFhLEVBQUUsSUFBSSw4QkFBYSxDQUFDLE1BQUEsS0FBSyxDQUFDLGlCQUFpQixtQ0FBSSxJQUFJLENBQUM7UUFDakUsd0JBQXdCLEVBQ3RCLEtBQUssQ0FBQyx3QkFBd0IsS0FBSyxTQUFTO1lBQzFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQztZQUN2RCxDQUFDLENBQUMsS0FBSyxDQUFDLGdDQUFnQztRQUM1QyxnQ0FBZ0MsRUFBRSxLQUFLLENBQUMsd0JBQXdCLEtBQUssU0FBUztLQUMvRSxDQUFDLENBQUE7Q0FBQSxDQUFDO0FBWlUsUUFBQSw4QkFBOEIsa0NBWXhDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW5kcG9pbnRDYWNoZSB9IGZyb20gXCJAYXdzLXNkay9lbmRwb2ludC1jYWNoZVwiO1xuaW1wb3J0IHsgQ3JlZGVudGlhbHMsIFByb3ZpZGVyIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW5kcG9pbnREaXNjb3ZlcnlJbnB1dENvbmZpZyB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7XG4gIGlzQ3VzdG9tRW5kcG9pbnQ6IGJvb2xlYW47XG4gIGNyZWRlbnRpYWxzOiBQcm92aWRlcjxDcmVkZW50aWFscz47XG4gIGVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZFByb3ZpZGVyOiBQcm92aWRlcjxib29sZWFuIHwgdW5kZWZpbmVkPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbmRwb2ludERpc2NvdmVyeUlucHV0Q29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBzaXplIG9mIHRoZSBjbGllbnQgY2FjaGUgc3RvcmluZyBlbmRwb2ludHMgZnJvbSBlbmRwb2ludCBkaXNjb3Zlcnkgb3BlcmF0aW9ucy5cbiAgICogRGVmYXVsdHMgdG8gMTAwMC5cbiAgICovXG4gIGVuZHBvaW50Q2FjaGVTaXplPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGNhbGwgb3BlcmF0aW9ucyB3aXRoIGVuZHBvaW50cyBnaXZlbiBieSBzZXJ2aWNlIGR5bmFtaWNhbGx5LlxuICAgKiBTZXR0aW5nIHRoaXMgY29uZmlnIHRvIGB0cnVlYCB3aWxsIGVuYWJsZSBlbmRwb2ludCBkaXNjb3ZlcnkgZm9yIGFsbCBhcHBsaWNhYmxlIG9wZXJhdGlvbnMuXG4gICAqIFNldHRpbmcgaXQgdG8gYGZhbHNlYCB3aWxsIGV4cGxpY2l0bHkgZGlzYWJsZSBlbmRwb2ludCBkaXNjb3ZlcnkgZXZlbiB0aG91Z2ggb3BlcmF0aW9ucyB0aGF0XG4gICAqIHJlcXVpcmUgZW5kcG9pbnQgZGlzY292ZXJ5IHdpbGwgcHJlc3VtYWJseSBmYWlsLiBMZWF2aW5nIGl0IHRvIHVuZGVmaW5lZCBtZWFucyBTREsgb25seSBkb1xuICAgKiBlbmRwb2ludCBkaXNjb3Zlcnkgd2hlbiBpdCdzIHJlcXVpcmVkLiBEZWZhdWx0cyB0byBgdW5kZWZpbmVkYC5cbiAgICovXG4gIGVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZD86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIEVuZHBvaW50RGlzY292ZXJ5UmVzb2x2ZWRDb25maWcge1xuICAvKipcbiAgICogTFJVIENhY2hlIHdoaWNoIHN0b3JlcyBlbmRwb2ludHMgZnJvbSBlbmRwb2ludCBkaXNjb3Zlcnkgb3BlcmF0aW9ucy5cbiAgICogVGhlIHNpemUgaXMgZWl0aGVyIHByb3ZpZGVkIGJ5IHtAbGluayBFbmRwb2ludERpc2NvdmVyeUlucHV0Q29uZmlnLmVuZHBvaW50Q2FjaGVTaXplfS5cbiAgICovXG4gIGVuZHBvaW50Q2FjaGU6IEVuZHBvaW50Q2FjaGU7XG5cbiAgLyoqXG4gICAqIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgQ29tbWFuZCB1c2VkIGZvciBkaXNjb3ZlcmluZyBlbmRwb2ludHMuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5kcG9pbnREaXNjb3ZlcnlDb21tYW5kQ3RvcjogbmV3IChjb21hbmRDb25maWc6IGFueSkgPT4gYW55O1xuXG4gIC8qKlxuICAgKiBSZXNvbHZlZCB2YWx1ZSBmb3IgaW5wdXQgY29uZmlnIHtAbGluayBFbmRwb2ludERpc2NvdmVyeUlucHV0Q29uZmlnLmVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZH0uXG4gICAqL1xuICBlbmRwb2ludERpc2NvdmVyeUVuYWJsZWQ6IFByb3ZpZGVyPGJvb2xlYW4gfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBTdG9yZXMgd2hldGhlciBlbmRwb2ludCBkaXNjb3ZlcnkgY29uZmlndXJhdGlvbiBpcyBzZXQgbG9jYWxseSBieSBwYXNzaW5nXG4gICAqIHtAbGluayBFbmRwb2ludERpc2NvdmVyeUlucHV0Q29uZmlnLmVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZH0gZHVyaW5nIGNsaWVudCBjcmVhdGlvbi5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBpc0NsaWVudEVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IHJlc29sdmVFbmRwb2ludERpc2NvdmVyeUNvbmZpZyA9IDxUPihcbiAgaW5wdXQ6IFQgJiBQcmV2aW91c2x5UmVzb2x2ZWQgJiBFbmRwb2ludERpc2NvdmVyeUlucHV0Q29uZmlnLFxuICBlbmRwb2ludERpc2NvdmVyeUNvbW1hbmRDdG9yOiBuZXcgKGNvbWFuZENvbmZpZzogYW55KSA9PiBhbnlcbik6IFQgJiBFbmRwb2ludERpc2NvdmVyeVJlc29sdmVkQ29uZmlnID0+ICh7XG4gIC4uLmlucHV0LFxuICBlbmRwb2ludERpc2NvdmVyeUNvbW1hbmRDdG9yLFxuICBlbmRwb2ludENhY2hlOiBuZXcgRW5kcG9pbnRDYWNoZShpbnB1dC5lbmRwb2ludENhY2hlU2l6ZSA/PyAxMDAwKSxcbiAgZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkOlxuICAgIGlucHV0LmVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZCAhPT0gdW5kZWZpbmVkXG4gICAgICA/ICgpID0+IFByb21pc2UucmVzb2x2ZShpbnB1dC5lbmRwb2ludERpc2NvdmVyeUVuYWJsZWQpXG4gICAgICA6IGlucHV0LmVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZFByb3ZpZGVyLFxuICBpc0NsaWVudEVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZDogaW5wdXQuZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkICE9PSB1bmRlZmluZWQsXG59KTtcbiJdfQ==